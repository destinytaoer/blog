(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{372:function(t,e,r){"use strict";r.r(e);var i=r(1),s=Object(i.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p",[t._v("原文是在前面对"),r("a",{attrs:{href:"https://destinytaoer.cn/2017/10/Transform-%E5%BC%95%E8%B5%B7%E7%9A%84-z-index-%E5%A4%B1%E6%95%88%E2%80%98/",target:"_blank",rel:"noopener noreferrer"}},[t._v("transform引起的z-index“失效”"),r("OutboundLink")],1),t._v("探究过程中找到的，非常棒，所以转载分享。本文大多摘自原文，进行了压缩，也加入了我自己的理解，希望对大家有帮助。")]),t._v(" "),r("p",[t._v("默认情况下，网页内容是没有偏移角的垂直视觉呈现，当内容发生层叠的时候，一定会有一个前后的层叠顺序产生。")]),t._v(" "),r("p",[t._v("我们大家可能都熟悉CSS中的z-index属性，需要跟大家讲的是，z-index实际上只是CSS层叠上下文和层叠顺序中的一叶小舟。")]),t._v(" "),t._m(1),t._v(" "),r("p",[t._v("层叠上下文，英文称作“stacking context”。是HTML中的一个三维的概念。如果一个元素含有层叠上下文，我们可以理解为这个元素在z轴上“高人一等”。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),r("p",[t._v("“层叠水平”英文称作”stacking level”，决定了同一个层叠上下文中元素在z轴上的显示顺序。")]),t._v(" "),r("p",[t._v("就跟人一样，网页中的元素虽然都是独立个体，但是总有一个类似的排名排序的情况存在。这个就是层叠水平。层叠上下文的层叠水平是优先级更高的层叠水平。")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),r("p",[t._v("这样的设计是由元素的重要性出发的，内容优于布局，布局优于装饰")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),r("p",[t._v("层叠领域的黄金准则。当元素发生层叠的时候，其覆盖关系遵循下面2个准则：")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),r("p",[t._v("层叠上下文元素有如下特性：")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),r("p",[t._v("层叠上下文基本是由一些特定的css属性所创建，主要分为三种：")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),r("p",[t._v("最终的层叠顺序分两种情况讨论：")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),r("blockquote",[r("p",[t._v("引自："),r("a",{attrs:{href:"https://www.zhangxinxu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("张鑫旭的博客"),r("OutboundLink")],1),t._v("\n本文地址："),r("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/?p=5115",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.zhangxinxu.com/wordpress/?p=5115"),r("OutboundLink")],1)])]),t._v(" "),r("blockquote",{staticClass:"blockquote-center"},[t._v("生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[this._v("#")]),this._v(" 前言")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"一、什么是层叠上下文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是层叠上下文","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、什么是层叠上下文")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("z轴")]),this._v("\n表示的是用户与屏幕的这条看不见的垂直线：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7295449-a898aaf76a63dc5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("具象化")]),this._v("\n拥有层叠上下文的元素相当于是一个容器，容器里装着其他元素。\n不同容器内的元素的高低由容器决定。容器里面的元素，有高低之分，但不会突破容器。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"二、什么是层叠水平"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、什么是层叠水平","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、什么是层叠水平")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("普通元素的层叠水平优先由层叠上下文决定，因此，层叠水平的比较只有在当前层叠上下文元素中才有意义。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[e("strong",[this._v("注意")]),this._v("：千万不要把层叠水平和z-index属性混为一谈。某些情况下z-index确实可以影响层叠水平，但是，只限于定位元素以及flex盒子的子元素，而层叠水平所有的元素都存在。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"三、什么是层叠顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、什么是层叠顺序","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、什么是层叠顺序")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("“层叠顺序”英文称作”stacking order”，表示元素发生层叠时的垂直显示顺序。"),e("strong",[this._v("层叠上下文和层叠水平是概念，而这里的层叠顺序是规则。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("在CSS2.1的年代，在CSS3还没有出现的时候（注意这里的前提），层叠顺序规则遵循下面这张图：\n"),e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7295449-ba5b01895cbecb35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("blockquote",[r("p",[r("strong",[t._v("注意")]),t._v("：")]),t._v(" "),r("ol",[r("li",[t._v("这是css2的时候")]),t._v(" "),r("li",[t._v("这里的"),r("code",[t._v("z-index: 0")]),t._v(" 只是表示一个0级别，对应的是"),r("code",[t._v("z-index: auto")]),t._v("，没有创建层叠上下文的级别")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"四、层叠准则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、层叠准则","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、层叠准则")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[e("strong",[this._v("谁大谁上")]),this._v("\n当具有明显的层叠水平标示的时候，如识别的z-indx值，在同一个层叠上下文领域，层叠水平值大的那一个覆盖小的那一个。")])]),this._v(" "),e("li",[e("p",[e("strong",[this._v("后来居上")]),this._v("\n当元素的层叠水平一致、层叠顺序相同的时候，在DOM流中处于后面的元素会覆盖前面的元素。")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"五、层叠上下文的特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、层叠上下文的特性","aria-hidden":"true"}},[this._v("#")]),this._v(" 五、层叠上下文的特性")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("层叠上下文的层叠水平要比普通元素高；")]),t._v(" "),r("li",[t._v("层叠上下文可以阻断元素的混合模式；")]),t._v(" "),r("li",[t._v("层叠上下文可以嵌套，内部层叠上下文及其所有子元素均受制于外部的层叠上下文；")]),t._v(" "),r("li",[t._v("每个层叠上下文和兄弟元素独立，也就是当进行层叠变化或渲染的时候，只需要考虑后代元素；")]),t._v(" "),r("li",[t._v("每个层叠上下文是自成体系的，当元素发生层叠的时候，整个元素被认为是在父层叠上下文的层叠顺序中。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"六、层叠上下文的创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六、层叠上下文的创建","aria-hidden":"true"}},[this._v("#")]),this._v(" 六、层叠上下文的创建")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-根层叠上下文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-根层叠上下文","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 根层叠上下文")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("页面根元素")]),this._v("，也就是滚动条的默认的始作俑者 "),e("code",[this._v("<html>")]),this._v(" 元素。这就是为什么，绝对定位元素在left/top等值定位的时候，如果没有其他定位元素限制，会相对浏览器窗口定位的原因。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-定位元素与传统层叠上下文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-定位元素与传统层叠上下文","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 定位元素与传统层叠上下文")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("strong",[t._v("设置"),r("code",[t._v("position:relative/position:absolute")]),t._v("，"),r("code",[t._v("z-index")]),t._v("值不是"),r("code",[t._v("auto")]),t._v("的定位元素")])]),t._v(" "),r("li",[r("strong",[t._v("设置"),r("code",[t._v("position:fixed")]),t._v("的定位元素，"),r("code",[t._v("z-index")]),t._v("为任意")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_3-css3与新时代的层叠上下文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-css3与新时代的层叠上下文","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. CSS3与新时代的层叠上下文")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("strong",[t._v("设置了z-index，且不为auto的flex元素(父元素display:flex|inline-flex)")])]),t._v(" "),r("li",[r("strong",[t._v("设置了opacity，且不为1的元素")])]),t._v(" "),r("li",[r("strong",[t._v("设置了transform，且不为none的元素")])]),t._v(" "),r("li",[r("strong",[t._v("设置了mix-blend-mode值，且不为normal的元素")])]),t._v(" "),r("li",[r("strong",[t._v("设置了isolation，且为isolate的元素")])]),t._v(" "),r("li",[r("strong",[t._v("设置了filter值，且不是none的元素")])]),t._v(" "),r("li",[r("strong",[t._v("will-change指定的属性值为上面任意一个")])]),t._v(" "),r("li",[r("strong",[t._v("设置了-webkit-overflow-scrolling，且为touch的元素")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"七、层叠上下文与层叠顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七、层叠上下文与层叠顺序","aria-hidden":"true"}},[this._v("#")]),this._v(" 七、层叠上下文与层叠顺序")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("ol",[r("li",[t._v("层叠上下文不依赖"),r("code",[t._v("z-index")]),t._v("数值，其层叠顺序是"),r("code",[t._v("z-index: auto")]),t._v("，就是"),r("code",[t._v("z-index: 0")]),t._v("的级别，没有创建层叠上下文的元素的级别")])])]),t._v(" "),r("li",[r("ol",{attrs:{start:"2"}},[r("li",[t._v("层叠上下文依赖"),r("code",[t._v("z-index")]),t._v("数值，则由"),r("code",[t._v("z-index")]),t._v("决定\n也就是两个层叠准则的详细解释，第一个：后来者居上，第二个：谁大谁上。")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7295449-52bb630f54165a8e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"引自"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引自","aria-hidden":"true"}},[this._v("#")]),this._v(" 引自")])}],!1,null,null,null);e.default=s.exports}}]);