(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{487:function(a,t,s){"use strict";s.r(t);var e=s(27),n=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"一、简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、简介","aria-hidden":"true"}},[a._v("#")]),a._v(" 一、简介")]),a._v(" "),s("blockquote",[s("p",[a._v("HTML5 中的定义：“它是依赖分辨率的位图画布，你可以在 canvas 上面绘制任何图形，甚至加载照片。”")])]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("矩形空白区域")])]),a._v(" "),s("li",[s("strong",[a._v("通过 javascript 绘制图形")])]),a._v(" "),s("li",[s("strong",[a._v("可以加载图片")])])]),a._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://codepen.io/destiny0904/pen/XzrZrv",target:"_blank",rel:"noopener noreferrer"}},[a._v("canvas 坐标系"),s("OutboundLink")],1)])]),a._v(" "),s("h2",{attrs:{id:"二、html-部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、html-部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 二、HTML 部分")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<canvas id="a" width="300" height="300">您的浏览器不支持 canvas</canvas>\n')])])]),s("p",[a._v("简单的在 HTML 页面添加一个 "),s("code",[a._v("canvas")]),a._v(" 元素，设定宽高，添加 "),s("code",[a._v("id")]),a._v(" 便于 "),s("code",[a._v("javascript")]),a._v(" 获取。")]),a._v(" "),s("ul",[s("li",[a._v("每个 "),s("code",[a._v("canvas")]),a._v(" 初始都是一个白板。")]),a._v(" "),s("li",[a._v("样式除了宽高，尽量写在画布里，而不是使用 CSS")]),a._v(" "),s("li",[s("code",[a._v("canvas")]),a._v(" 标签里如果添加文本，那么当浏览器不支持 "),s("code",[a._v("canvas")]),a._v(" 时显示文本")])]),a._v(" "),s("h2",{attrs:{id:"三、绘图上下文环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、绘图上下文环境","aria-hidden":"true"}},[a._v("#")]),a._v(" 三、绘图上下文环境")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" a_context "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[a._v("获取到 "),s("code",[a._v("canvas")]),a._v(" 元素")]),a._v(" "),s("li",[a._v("调用它的 "),s("code",[a._v("getContext()")]),a._v(" 方法获取绘图上下文环境，参数必须为 "),s("code",[a._v("2d")]),a._v(" ，未来可能会有 "),s("code",[a._v("3d")])]),a._v(" "),s("li",[a._v("基于上下文环境的方法进行绘图")])]),a._v(" "),s("p",[a._v("绘图上下文包含所有绘制方法和属性的定义。")]),a._v(" "),s("h2",{attrs:{id:"四、路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 四、路径")]),a._v(" "),s("h3",{attrs:{id:"_4-1-beginpath-开始新路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-beginpath-开始新路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.1 "),s("code",[a._v("beginPath()")]),a._v(" 开始新路径")]),a._v(" "),s("p",[a._v("表示重新开始新的路径。")]),a._v(" "),s("p",[a._v("canvas 是基于状态的绘图，开启一条新的路径，就可以设置新的状态。但是 "),s("code",[a._v("beginPath()")]),a._v(" 不会将状态重置回默认值。")]),a._v(" "),s("blockquote",[s("p",[a._v("**同一条路径上的线条和曲线都会是相同的颜色。**所以需要绘制不同颜色的时候，必须开启新的路径。")])]),a._v(" "),s("h3",{attrs:{id:"_4-2-closepath-结束路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-closepath-结束路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.2 "),s("code",[a._v("closePath()")]),a._v(" 结束路径")]),a._v(" "),s("p",[a._v("用于结束路径，与 "),s("code",[a._v("beginPath()")]),a._v(" 并不一定成对出现。")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：默认结束路径后，图形自动封闭，即首尾相连。所以有些时候不会用到结束路径。")])]),a._v(" "),s("h3",{attrs:{id:"_4-3-stroke-绘制路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-stroke-绘制路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.3 "),s("code",[a._v("stroke()")]),a._v(" 绘制路径")]),a._v(" "),s("p",[a._v("绘制已定义的路径")]),a._v(" "),s("h3",{attrs:{id:"_4-4-fill-填充路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-fill-填充路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.4 "),s("code",[a._v("fill()")]),a._v(" 填充路径")]),a._v(" "),s("p",[a._v("将准备画的路径块填充")]),a._v(" "),s("p",[s("code",[a._v("fill()")]),a._v(" 会覆盖描边 "),s("code",[a._v("stroke()")]),a._v(" 边框的一半。所以，在需要描边的填充色，需要先填充，后描边。")]),a._v(" "),s("h3",{attrs:{id:"_4-5-ispointinpath-是否在路径中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-ispointinpath-是否在路径中","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.5 "),s("code",[a._v("isPointInPath()")]),a._v("\t是否在路径中")]),a._v(" "),s("p",[a._v("如果指定的点位于当前路径中，则返回 true，否则返回 false")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("isPointInPath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v(" 测试点的 x 坐标")]),a._v(" "),s("li",[s("code",[a._v("y")]),a._v(" 测试点的 y 坐标")])]),a._v(" "),s("h3",{attrs:{id:"_4-6-clip-剪切"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-clip-剪切","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.6 "),s("code",[a._v("clip()")]),a._v(" 剪切")]),a._v(" "),s("p",[a._v("从原始画布剪切任意形状和尺寸的区域")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：一旦剪切了某个区域，则所有之后的绘图都会被限制在被剪切的区域内（不能访问画布上的其他区域）。您也可以在使用 "),s("code",[a._v("clip()")]),a._v(" 方法前通过使用 "),s("code",[a._v("save()")]),a._v(" 方法对当前画布区域进行保存，并在以后的任意时间通过 "),s("code",[a._v("restore()")]),a._v(" 方法进行恢复。")])]),a._v(" "),s("h2",{attrs:{id:"五、线条以及填充颜色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、线条以及填充颜色","aria-hidden":"true"}},[a._v("#")]),a._v(" 五、线条以及填充颜色")]),a._v(" "),s("h3",{attrs:{id:"_5-1-fillstyle-填充样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-fillstyle-填充样式","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.1 "),s("code",[a._v("fillStyle")]),a._v(" 填充样式")]),a._v(" "),s("p",[a._v("设置或返回用于填充绘画的颜色、渐变或模式，需要在填充前声明才有效")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fillStyle"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("color"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("gradient"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("pattern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("color")]),a._v(" 指示绘图填充色的 CSS 颜色值。默认值是 #000000。")]),a._v(" "),s("li",[s("code",[a._v("gradient")]),a._v(" 用于填充绘图的渐变对象")]),a._v(" "),s("li",[s("code",[a._v("pattern")]),a._v(" 用于填充绘图的 "),s("code",[a._v("pattern")]),a._v(" 对象")])]),a._v(" "),s("h3",{attrs:{id:"_5-2-strokestyle-线条样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-strokestyle-线条样式","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.2 "),s("code",[a._v("strokeStyle")]),a._v(" 线条样式")]),a._v(" "),s("p",[a._v("设置或返回用于笔触的颜色、渐变或模式，需要在绘制前声明才有效")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("strokeStyle"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("color"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("gradient"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("pattern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("color")]),a._v(" 指示绘图笔触颜色的 CSS 颜色值。默认值是 #000000。")]),a._v(" "),s("li",[s("code",[a._v("gradient")]),a._v(" 用于填充绘图的渐变对象")]),a._v(" "),s("li",[s("code",[a._v("pattern")]),a._v(" 用于创建 "),s("code",[a._v("pattern")]),a._v(" 笔触的 "),s("code",[a._v("pattern")]),a._v(" 对象")])]),a._v(" "),s("h3",{attrs:{id:"_5-3-linecap-线条结束端点样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-linecap-线条结束端点样式","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.3 "),s("code",[a._v("lineCap")]),a._v(" 线条结束端点样式")]),a._v(" "),s("p",[a._v("设置或返回线条的结束端点样式")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("lineCap"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"butt|round|square"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("butt")]),a._v(" 默认。向线条的每个末端添加平直的边缘。")]),a._v(" "),s("li",[s("code",[a._v("round")]),a._v(" 向线条的每个末端添加圆形线帽。")]),a._v(" "),s("li",[s("code",[a._v("square")]),a._v(" 向线条的每个末端添加正方形线帽。")])]),a._v(" "),s("p",[s("code",[a._v("round")]),a._v(" 和 "),s("code",[a._v("square")]),a._v(" 会使线条略微变长。")]),a._v(" "),s("h3",{attrs:{id:"_5-4-linejoin-线条拐角类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-linejoin-线条拐角类型","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.4 "),s("code",[a._v("lineJoin")]),a._v(" 线条拐角类型")]),a._v(" "),s("p",[a._v("设置或返回两条线相交时，所创建的拐角类型")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("lineJoin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bevel|round|miter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("bevel")]),a._v(" 创建斜角")]),a._v(" "),s("li",[s("code",[a._v("round")]),a._v(" 创建圆角")]),a._v(" "),s("li",[s("code",[a._v("miter")]),a._v(" 默认。创建尖角")])]),a._v(" "),s("h3",{attrs:{id:"_5-5-linewidth-线条宽度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-linewidth-线条宽度","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.5 "),s("code",[a._v("lineWidth")]),a._v(" 线条宽度")]),a._v(" "),s("p",[a._v("设置或返回当前的线条宽度")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("lineWidth"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 当前线条的宽度，以像素计")])]),a._v(" "),s("h3",{attrs:{id:"_5-6-miterlimit-线条最大斜接长度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-miterlimit-线条最大斜接长度","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.6 "),s("code",[a._v("miterLimit")]),a._v(" 线条最大斜接长度")]),a._v(" "),s("p",[a._v("设置或返回最大斜接长度")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("context.miterLimit=number;\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 正数\n如果斜接长度超过 "),s("code",[a._v("miterLimit")]),a._v(" 的值，边角会以 "),s("code",[a._v("lineJoin")]),a._v(" 的 "),s("code",[a._v("bevel")]),a._v(" 类型来显示。")])]),a._v(" "),s("p",[a._v("斜接长度指的是在两条线交汇处内角和外角之间的距离。\n"),s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-362921d854de0641.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("p",[a._v("只有当 "),s("code",[a._v("lineJoin")]),a._v(" 属性为 "),s("code",[a._v("miter")]),a._v(" 时，"),s("code",[a._v("miterLimit")]),a._v(" 才有效。")]),a._v(" "),s("p",[a._v('边角的角度越小，斜接长度就会越大。\n为了避免斜接长度过长，我们可以使用 miterLimit 属性。\n如果斜接长度超过 miterLimit 的值，边角会以 lineJoin 的 "bevel" 类型来显示（图解 3）：\n'),s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-e3a1557002561d6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"六、直线路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、直线路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 六、直线路径")]),a._v(" "),s("h3",{attrs:{id:"_6-1-moveto-起点坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-moveto-起点坐标","aria-hidden":"true"}},[a._v("#")]),a._v(" 6.1 "),s("code",[a._v("moveTo()")]),a._v(" 起点坐标")]),a._v(" "),s("p",[a._v("把路径移动到画布中的指定点，不创建线条。声明直线开始的起点坐标。括号里面填写坐标。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("moveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"_6-2-lineto-终点坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-lineto-终点坐标","aria-hidden":"true"}},[a._v("#")]),a._v(" 6.2 "),s("code",[a._v("lineTo()")]),a._v(" 终点坐标")]),a._v(" "),s("p",[a._v("声明直线结束的终点坐标。括号里面填写坐标。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("moveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//起点")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//终点")]),a._v("\n")])])]),s("p",[a._v("连续出现相当于以前一个为起点继续走向另一个坐标。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("moveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//起点 ")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//终点")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//以前一个终点为起点坐标")]),a._v("\n")])])]),s("p",[a._v("当 "),s("code",[a._v("lineTo()")]),a._v(" 在 "),s("code",[a._v("beginPath()")]),a._v(" 后面使用时，可以代替 "),s("code",[a._v("moveTo()")]),a._v("，和 "),s("code",[a._v("moveTo()")]),a._v(" 起到相同效果。")]),a._v(" "),s("h3",{attrs:{id:"_6-3-多边形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-多边形","aria-hidden":"true"}},[a._v("#")]),a._v(" 6.3 多边形")]),a._v(" "),s("p",[a._v("从 "),s("code",[a._v("moveTo()")]),a._v(" 开始，使用 "),s("code",[a._v("lineTo()")]),a._v(" 画直线到三个顶点，最终回到起点坐标。")]),a._v(" "),s("p",[a._v("如三角形：")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//路径描述")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("moveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lineTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//绘制")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stroke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"七、贝塞尔曲线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、贝塞尔曲线","aria-hidden":"true"}},[a._v("#")]),a._v(" 七、贝塞尔曲线")]),a._v(" "),s("h3",{attrs:{id:"_7-1-quadraticcurveto-二次贝塞尔"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-quadraticcurveto-二次贝塞尔","aria-hidden":"true"}},[a._v("#")]),a._v(" 7.1 quadraticCurveTo() 二次贝塞尔")]),a._v(" "),s("p",[a._v("通过使用表示二次贝塞尔曲线的指定控制点，向当前路径添加一个点。")]),a._v(" "),s("p",[a._v("二次贝塞尔曲线需要两个点。第一个点是用于二次贝塞尔计算中的控制点，第二个点是曲线的结束点。最后添加的是结束点\n"),s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-19d53fa232d3041c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：曲线的开始点是当前路径中最后一个点。如果路径不存在，那么请使用 "),s("code",[a._v("beginPath()")]),a._v(" 和 "),s("code",[a._v("moveTo()")]),a._v(" 方法来定义开始点。")])]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("quadraticCurveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("cpx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("cpy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("cpx")]),a._v("，"),s("code",[a._v("cpy")]),a._v(" 贝塞尔控制点的坐标")]),a._v(" "),s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 结束点的坐标")])]),a._v(" "),s("h3",{attrs:{id:"_7-2-beziercurveto-三次贝塞尔"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-beziercurveto-三次贝塞尔","aria-hidden":"true"}},[a._v("#")]),a._v(" 7.2 bezierCurveTo() 三次贝塞尔")]),a._v(" "),s("p",[a._v("通过使用表示三次贝塞尔曲线的指定控制点，向当前路径添加一个点。")]),a._v(" "),s("p",[a._v("三次贝塞尔曲线需要三个点。前两个点是用于三次贝塞尔计算中的控制点，第三个点是曲线的结束点。\n"),s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-64bd89bb9ef9ff9f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bezierCurveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("cp1x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("cp1y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("cp2x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("cp2y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("cp1x")]),a._v("，"),s("code",[a._v("cp1y")]),a._v(" 第一个贝塞尔控制点的坐标")]),a._v(" "),s("li",[s("code",[a._v("cp2x")]),a._v("，"),s("code",[a._v("cp2y")]),a._v(" 第二个贝塞尔控制点的坐标")]),a._v(" "),s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 结束点的坐标")])]),a._v(" "),s("h2",{attrs:{id:"八、画弧线、圆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、画弧线、圆","aria-hidden":"true"}},[a._v("#")]),a._v(" 八、画弧线、圆")]),a._v(" "),s("h3",{attrs:{id:"_8-1-arc-创建圆路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-arc-创建圆路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.1 "),s("code",[a._v("arc()")]),a._v(" 创建圆路径")]),a._v(" "),s("p",[a._v("创建弧/曲线（用于创建圆形或部分圆）")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("arc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("centerX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" centerY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" radius"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" startingAngle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" endingAngle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" anticlockwise"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("centerx")]),a._v(" , "),s("code",[a._v("centery")]),a._v(" 表示圆心位置")]),a._v(" "),s("li",[s("code",[a._v("radius")]),a._v("表示半径")]),a._v(" "),s("li",[s("code",[a._v("startingAngle")]),a._v("，"),s("code",[a._v("endingAngle")]),a._v("表示开始位置和结束位置")]),a._v(" "),s("li",[s("code",[a._v("anticlockwise")]),a._v(" 表示 "),s("code",[a._v("true")]),a._v(" 时为顺时针绘制，"),s("code",[a._v("false")]),a._v(" 为逆时针绘制。默认为 "),s("code",[a._v("true")])])]),a._v(" "),s("p",[s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-23af3c75542c56c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("p",[a._v("其中角度参数的值："),s("code",[a._v("0")]),a._v(" 表示圆的最右边，"),s("code",[a._v("0.5*Math.PI")]),a._v(" 表示最下面，"),s("code",[a._v("1*Math.PI")]),a._v(" 表示最左边，"),s("code",[a._v("1.5*Math.PI")]),a._v(" 表示最上面，"),s("code",[a._v("2*Math.PI")]),a._v(" 表示最右边。这些规定是固定的，不会因为顺逆时针改变。")]),a._v(" "),s("h3",{attrs:{id:"_8-2-arcto-两切线弧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-arcto-两切线弧","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.2 "),s("code",[a._v("arcTo()")]),a._v(" 两切线弧")]),a._v(" "),s("p",[a._v("创建两切线之间的弧/曲线")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fillRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-86648c65a1bb3be9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("ul",[s("li",[s("code",[a._v("x1")]),a._v("，"),s("code",[a._v("y1")]),a._v(" 弧的起点坐标")]),a._v(" "),s("li",[s("code",[a._v("x2")]),a._v("，"),s("code",[a._v("y2")]),a._v(" 弧的终点坐标")]),a._v(" "),s("li",[s("code",[a._v("r")]),a._v(" 弧的半径")])]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("stroke()")]),a._v(" 方法在画布上绘制确切的弧。")]),a._v(" "),s("h3",{attrs:{id:"_8-3-绘制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-绘制","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.3 绘制")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("lineWidth")]),a._v(" 定义线条粗细")]),a._v(" "),s("li",[s("code",[a._v("strokeStyle")]),a._v(" 定义描边样式")]),a._v(" "),s("li",[s("code",[a._v("stroke()")]),a._v(" 描边")]),a._v(" "),s("li",[s("code",[a._v("fillStyle")]),a._v(" 定义填充样式")]),a._v(" "),s("li",[s("code",[a._v("fill()")]),a._v(" 填充")])]),a._v(" "),s("h3",{attrs:{id:"_8-4-圆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-圆","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.4 圆")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("arc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("PI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("表示从右边（0）开始，顺时针画圆，到右边（2 PI）结束。")]),a._v(" "),s("h2",{attrs:{id:"九、文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、文本","aria-hidden":"true"}},[a._v("#")]),a._v(" 九、文本")]),a._v(" "),s("p",[a._v("不同于网页中的文本，绘制在 "),s("code",[a._v("canvas")]),a._v(" 中的文本是没有盒模型的，没有浮动、边距、留白、自动换行等。")]),a._v(" "),s("h3",{attrs:{id:"_9-1-filltext-填充文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-filltext-填充文本","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.1 "),s("code",[a._v("fillText()")]),a._v(" 填充文本")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fillText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("text")]),a._v(" 规定在画布上输出的文本")]),a._v(" "),s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 开始绘制文本的坐标位置")])]),a._v(" "),s("h3",{attrs:{id:"_9-2-stroketext-描边文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-stroketext-描边文本","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.2 "),s("code",[a._v("strokeText()")]),a._v(" 描边文本")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("strokeText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("maxWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("text")]),a._v(" 规定在画布上输出的文本")]),a._v(" "),s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 开始绘制文本的坐标位置")]),a._v(" "),s("li",[s("code",[a._v("maxWidth")]),a._v(" 可选。允许的最大文本宽度，以像素计")])]),a._v(" "),s("h3",{attrs:{id:"_9-3-measuretext-测量文本宽度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-measuretext-测量文本宽度","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.3 "),s("code",[a._v("measureText()")]),a._v(" 测量文本宽度")]),a._v(" "),s("p",[s("code",[a._v("measureText()")]),a._v(" 方法返回包含一个对象，该对象包含以像素计的指定字体宽度。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("measureText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[a._v("text 要测量的文本")])]),a._v(" "),s("h3",{attrs:{id:"_9-4-font-字体样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-font-字体样式","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.4 "),s("code",[a._v("font")]),a._v(" 字体样式")]),a._v(" "),s("p",[a._v("canvas 中的字体会继承 canvas 元素的字体大小和样式风格。\n设置 "),s("code",[a._v("font")]),a._v(" 属性覆盖继承值。符合 CSS 规则。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("font "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bold 12px sans-serif"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("属性值里面的每个取值用空格隔开")]),a._v(" "),s("ul",[s("li",[a._v("font style")]),a._v(" "),s("li",[a._v("font variant")]),a._v(" "),s("li",[a._v("font size")]),a._v(" "),s("li",[a._v("font weight")]),a._v(" "),s("li",[a._v("lineheight")]),a._v(" "),s("li",[a._v("font family")])]),a._v(" "),s("blockquote",[s("p",[a._v("使用相对字体大小，如 "),s("code",[a._v("1.5em")]),a._v(" 或 "),s("code",[a._v("150%")]),a._v("，是基于 "),s("code",[a._v("canvas")]),a._v(" 元素本身的字体大小。"),s("code",[a._v("rem")]),a._v(" 仍是基于根元素。")])]),a._v(" "),s("h3",{attrs:{id:"_9-5-textalign-对齐方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-5-textalign-对齐方式","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.5 "),s("code",[a._v("textAlign")]),a._v(" 对齐方式")]),a._v(" "),s("p",[a._v("类似 CSS 中的 "),s("code",[a._v("text-align")]),a._v(" 。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('context.textAlign = "start";\n')])])]),s("p",[s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-48960d8c9f4a2373.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("p",[a._v("取值："),s("code",[a._v("start")]),a._v("（默认）、"),s("code",[a._v("end")]),a._v("、"),s("code",[a._v("left")]),a._v("、"),s("code",[a._v("right")]),a._v("、"),s("code",[a._v("center")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"_9-6-textbaseline-相对于起点的位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-6-textbaseline-相对于起点的位置","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.6 "),s("code",[a._v("textBaseline")]),a._v(" 相对于起点的位置")]),a._v(" "),s("p",[a._v("控制文本相对于起点的位置。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("textBaseline "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"top"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("必须使用引号。")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-3419679ba917de7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("p",[a._v("取值："),s("code",[a._v("top")]),a._v("、"),s("code",[a._v("bottom")]),a._v("、"),s("code",[a._v("hanging")]),a._v("、"),s("code",[a._v("middle")]),a._v("、"),s("code",[a._v("alphabetic")]),a._v("、"),s("code",[a._v("ideographic")])]),a._v(" "),s("h2",{attrs:{id:"十、矩形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、矩形","aria-hidden":"true"}},[a._v("#")]),a._v(" 十、矩形")]),a._v(" "),s("h3",{attrs:{id:"_10-1-rect-创建矩形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-rect-创建矩形","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.1 "),s("code",[a._v("rect()")]),a._v(" 创建矩形")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v("\t矩形左上角的坐标")]),a._v(" "),s("li",[s("code",[a._v("width")]),a._v("，"),s("code",[a._v("height")]),a._v(" 矩形的宽高")])]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("stroke()")]),a._v(" 或 "),s("code",[a._v("fill()")]),a._v(" 方法在画布上实际地绘制矩形。")]),a._v(" "),s("h3",{attrs:{id:"_10-2-fillrect-已填充矩形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-fillrect-已填充矩形","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.2 "),s("code",[a._v("fillRect()")]),a._v(" 已填充矩形")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("fillRect(x,y,width,height);\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 表示矩形左上角坐标")]),a._v(" "),s("li",[s("code",[a._v("width")]),a._v("，"),s("code",[a._v("height")]),a._v("表示宽高")])]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("fillStyle")]),a._v(" 属性来设置用于填充绘图的颜色、渐变或模式。")]),a._v(" "),s("h3",{attrs:{id:"_10-3-strokerect-已描边矩形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-strokerect-已描边矩形","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.3 "),s("code",[a._v("strokeRect()")]),a._v(" 已描边矩形")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("strokeRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 表示矩形左上角坐标")]),a._v(" "),s("li",[s("code",[a._v("width")]),a._v("，"),s("code",[a._v("height")]),a._v("表示宽高")])]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("strokeStyle")]),a._v(" 属性来设置笔触的颜色、渐变或模式。")]),a._v(" "),s("h3",{attrs:{id:"_10-4-clearrect-清空矩形区域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-4-clearrect-清空矩形区域","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.4 "),s("code",[a._v("clearRect()")]),a._v(" 清空矩形区域")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clearRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 表示矩形左上角坐标")]),a._v(" "),s("li",[s("code",[a._v("width")]),a._v("，"),s("code",[a._v("height")]),a._v("表示宽高")])]),a._v(" "),s("h2",{attrs:{id:"十一、添加图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、添加图片","aria-hidden":"true"}},[a._v("#")]),a._v(" 十一、添加图片")]),a._v(" "),s("h3",{attrs:{id:"_11-1-drawimage-添加图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-drawimage-添加图片","aria-hidden":"true"}},[a._v("#")]),a._v(" 11.1  "),s("code",[a._v("drawImage()")]),a._v(" 添加图片")]),a._v(" "),s("p",[a._v("三种用法：")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("drawImage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("drawImage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("drawImage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("sx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("sy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("sw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("image")]),a._v(" 为图片对象，必须")]),a._v(" "),s("li",[s("code",[a._v("sx")]),a._v("，"),s("code",[a._v("sy")]),a._v(" 为裁剪开始位置，左上角坐标，可选")]),a._v(" "),s("li",[s("code",[a._v("sw")]),a._v("，"),s("code",[a._v("sh")]),a._v(" 为裁剪宽高，可选")]),a._v(" "),s("li",[s("code",[a._v("dx")]),a._v("，"),s("code",[a._v("dy")]),a._v(" 为绘制起点，左上角坐标，必须")]),a._v(" "),s("li",[s("code",[a._v("dw")]),a._v("，"),s("code",[a._v("dh")]),a._v(" 为自定义的图片宽高，可选")])]),a._v(" "),s("h3",{attrs:{id:"_11-2-图片对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-图片对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 11.2 图片对象")]),a._v(" "),s("ol",[s("li",[a._v("已存在的 "),s("code",[a._v("<img>")]),a._v(" 元素")])]),a._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[a._v("//HTML部分\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("img")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("cat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("images/cat.png"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n//javascript部分\nwindow.onload = function() {\n  .\n  .\n  var cat = document.getElementById('cat');\n  context.drawImage(cat,0,0); \n}\n")])])]),s("p",[a._v("在 "),s("code",[a._v("window.onload")]),a._v(" 事件处理器中，获取已有图片对象，然后在 "),s("code",[a._v("canvas")]),a._v(" 中安全绘制图片。")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("自己创建的图片对象")])]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" cat "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"images/cat.png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("onload")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("drawImage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("cat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("创建图片对象，然后在 cat.onload 事件处理器中安全地把图片绘制在 "),s("code",[a._v("canvas")]),a._v(" 中。")]),a._v(" "),s("h2",{attrs:{id:"十二、特殊样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十二、特殊样式","aria-hidden":"true"}},[a._v("#")]),a._v(" 十二、特殊样式")]),a._v(" "),s("h3",{attrs:{id:"_12-1-shadowcolor-阴影颜色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-shadowcolor-阴影颜色","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.1 "),s("code",[a._v("shadowColor")]),a._v(" 阴影颜色")]),a._v(" "),s("p",[a._v("设置或返回用于阴影的颜色")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("shadowColor"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("color")]),a._v(" 用于阴影的 CSS 颜色值。默认值是 #000000。")])]),a._v(" "),s("h3",{attrs:{id:"_12-2-shadowblur-阴影模糊程度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-shadowblur-阴影模糊程度","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.2 "),s("code",[a._v("shadowBlur")]),a._v(" 阴影模糊程度")]),a._v(" "),s("p",[a._v("设置或返回用于阴影的模糊级别")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("shadowBlur"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 阴影的模糊级数")])]),a._v(" "),s("h3",{attrs:{id:"_12-3-shadowoffsetx-阴影水平偏移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-shadowoffsetx-阴影水平偏移","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.3 "),s("code",[a._v("shadowOffsetX")]),a._v(" 阴影水平偏移")]),a._v(" "),s("p",[a._v("设置或返回阴影距形状的水平距离")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("shadowOffsetX"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 正值或负值，定义阴影与形状的水平距离。")])]),a._v(" "),s("h3",{attrs:{id:"_12-4-shadowoffsety-阴影垂直偏移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-4-shadowoffsety-阴影垂直偏移","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.4 "),s("code",[a._v("shadowOffsetY")]),a._v(" 阴影垂直偏移")]),a._v(" "),s("p",[a._v("设置或返回阴影距形状的垂直距离")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("shadowOffsetY"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 正值或负值，定义阴影与形状的垂直距离")])]),a._v(" "),s("h3",{attrs:{id:"_12-5-createpattern-重复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-5-createpattern-重复","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.5 "),s("code",[a._v("createPattern()")]),a._v("  重复")]),a._v(" "),s("p",[a._v("在指定的方向内重复指定的元素。")]),a._v(" "),s("p",[a._v("元素可以是图片、视频，或者其他 canvas 元素。\n被重复的元素可用于绘制/填充矩形、圆形或线条等等。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('context.createPattern(image,"repeat|repeat-x|repeat-y|no-repeat");\n')])])]),s("ul",[s("li",[s("code",[a._v("image")]),a._v(" 规定要使用的图片、画布或视频元素。")]),a._v(" "),s("li",[s("code",[a._v("repeat")]),a._v(" 默认。该模式在水平和垂直方向重复。")]),a._v(" "),s("li",[s("code",[a._v("repeat-x")]),a._v(" 该模式只在水平方向重复。")]),a._v(" "),s("li",[s("code",[a._v("repeat-y")]),a._v(" 该模式只在垂直方向重复。")]),a._v(" "),s("li",[s("code",[a._v("no-repeat")]),a._v(" 该模式只显示一次（不重复）。")])]),a._v(" "),s("h3",{attrs:{id:"_12-6-createlineargradient-创建线性渐变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-6-createlineargradient-创建线性渐变","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.6 "),s("code",[a._v("createLinearGradient()")]),a._v(" 创建线性渐变")]),a._v(" "),s("p",[a._v("调用 "),s("code",[a._v("createLinearGradient()")]),a._v(" 方法创建线性渐变")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createLinearGradient")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("表示沿直线从（x0,y0)到(x1,y1)绘制渐变。")]),a._v(" "),s("p",[a._v("如水平渐变：")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" my_gradient "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createLinearGradient")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("设置两个 "),s("code",[a._v("y")]),a._v(" 值为 0，渐变会沿水平从左到右。")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：创建渐变需要赋给一个变量，通过这个变量设置色标")])]),a._v(" "),s("h3",{attrs:{id:"_12-7-createradialgradient-创建径向渐变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-7-createradialgradient-创建径向渐变","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.7 "),s("code",[a._v("createRadialGradient()")]),a._v(" 创建径向渐变")]),a._v(" "),s("p",[a._v("调用 "),s("code",[a._v("createRadialGradient()")]),a._v(" 方法创建径向渐变")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createRadialGradient")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("r0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("r1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("表示沿着两个圆之间的锥面绘制渐变。\n前三个参数代表开始圆，后三个参数表示结束圆。")]),a._v(" "),s("h3",{attrs:{id:"_12-8-addcolorstop-添加色标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-8-addcolorstop-添加色标","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.8 "),s("code",[a._v("addColorStop()")]),a._v(" 添加色标")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addColorStop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("index")]),a._v(" 渐变位置，可以在 0 - 1 之间取任意值")]),a._v(" "),s("li",[s("code",[a._v("color")]),a._v(" 渐变颜色，关键字及十六进制颜色要添加引号")])]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：这个方法属于创建的渐变对象，也就是前面创建渐变时的变量。")])]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("my_gradient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addColorStop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"block"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nmy_gradient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addColorStop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"white"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"_12-9-绘制渐变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-9-绘制渐变","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.9 绘制渐变")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fillStyle "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" my_gradient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fillRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("225")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[a._v("将填充颜色设置为创建的渐变")]),a._v(" "),s("li",[a._v("填充所需要的图形")])]),a._v(" "),s("h2",{attrs:{id:"十三、转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十三、转换","aria-hidden":"true"}},[a._v("#")]),a._v(" 十三、转换")]),a._v(" "),s("p",[a._v("转换都应该放在绘制之前")]),a._v(" "),s("h3",{attrs:{id:"_13-1-scale-缩放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-scale-缩放","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.1 scale() 缩放")]),a._v(" "),s("p",[a._v("缩放当前绘图至更大或更小")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：如果您对绘图进行缩放，所有之后的绘图也会被缩放。定位也会被缩放，线条大小也会被缩放。")])]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("scale")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("scalewidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("scaleheight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("scalewidth")]),a._v(" 缩放当前绘图的宽度 (1=100%, 0.5=50%, 2=200%, 依次类推)")]),a._v(" "),s("li",[s("code",[a._v("scaleheight")]),a._v(" 缩放当前绘图的高度 (1=100%, 0.5=50%, 2=200%, etc.)")])]),a._v(" "),s("h3",{attrs:{id:"_13-2-rotate-旋转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-rotate-旋转","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.2 rotate() 旋转")]),a._v(" "),s("p",[a._v("旋转当前绘图")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("conntext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rotate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("angle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("angle")]),a._v(" 旋转角度，以弧度计。")])]),a._v(" "),s("p",[a._v("将角度转换为弧度，请使用 "),s("code",[a._v("degrees*Math.PI/180")]),a._v(" 公式进行计算。")]),a._v(" "),s("h3",{attrs:{id:"_13-3-translate-改变原点坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-translate-改变原点坐标","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.3 translate() 改变原点坐标")]),a._v(" "),s("p",[a._v("重新映射画布上的 (0,0) 位置，改变坐标原点的位置")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("translate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v(" 添加到水平坐标上的值")]),a._v(" "),s("li",[s("code",[a._v("y")]),a._v(" 添加到垂直坐标上的值")])]),a._v(" "),s("p",[a._v("当您在 "),s("code",[a._v("translate()")]),a._v(" 之后调用诸如 "),s("code",[a._v("fillRect()")]),a._v(" 之类的方法时，值会添加到 "),s("code",[a._v("x")]),a._v(" 和 "),s("code",[a._v("y")]),a._v(" 坐标值上。，即后面的绘图涉及到坐标都会在此基础上增加值。\n"),s("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/7295449-8a0b5aa566c0cc89.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"_13-4-transform-变换矩阵"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-transform-变换矩阵","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.4 transform() 变换矩阵")]),a._v(" "),s("p",[a._v("画布上的每个对象都拥有一个当前的变换矩阵。\n"),s("code",[a._v("transform()")]),a._v(" 方法替换当前的变换矩阵。")]),a._v(" "),s("p",[a._v("它以下面描述的矩阵来操作当前的变换矩阵：")]),a._v(" "),s("div",{staticClass:"language-mathematica extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("a  c  e\nb  d  f\n0  0  1\n")])])]),s("p",[a._v("也就是说，"),s("code",[a._v("transform()")]),a._v(" 允许您缩放、旋转、移动并倾斜当前的环境。")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：该变换只会影响 "),s("code",[a._v("transform()")]),a._v(" 方法调用之后的绘图。\n前面的 "),s("code",[a._v("rotate()")]),a._v(", "),s("code",[a._v("scale()")]),a._v(", "),s("code",[a._v("translate()")]),a._v(", "),s("code",[a._v("transform()")]),a._v(" 方法都会影响到当前的 "),s("code",[a._v("transform()")]),a._v("。\n例如：如果您已经将绘图设置为放到两倍，则 "),s("code",[a._v("transform()")]),a._v(" 方法会把绘图放大两倍，您的绘图最终将放大四倍。")])]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("a")]),a._v(" 水平缩放绘图")]),a._v(" "),s("li",[s("code",[a._v("b")]),a._v(" 水平倾斜绘图")]),a._v(" "),s("li",[s("code",[a._v("c")]),a._v(" 垂直倾斜绘图")]),a._v(" "),s("li",[s("code",[a._v("d")]),a._v(" 垂直缩放绘图")]),a._v(" "),s("li",[s("code",[a._v("e")]),a._v(" 水平移动绘图")]),a._v(" "),s("li",[s("code",[a._v("f")]),a._v(" 垂直移动绘图")])]),a._v(" "),s("h3",{attrs:{id:"_13-5-settransform"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-5-settransform","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.5 setTransform()")]),a._v(" "),s("p",[a._v("将当前转换重置为单位矩阵。然后以同样的参数运行 "),s("code",[a._v("transform()")]),a._v("，这样就可以不受前面的影响了。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setTransform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("a")]),a._v(" 水平缩放绘图，默认值为 1")]),a._v(" "),s("li",[s("code",[a._v("b")]),a._v(" 水平倾斜绘图，默认值为 0")]),a._v(" "),s("li",[s("code",[a._v("c")]),a._v(" 垂直倾斜绘图，默认值为 0")]),a._v(" "),s("li",[s("code",[a._v("d")]),a._v(" 垂直缩放绘图，默认值为 1")]),a._v(" "),s("li",[s("code",[a._v("e")]),a._v(" 水平移动绘图，默认值为 0")]),a._v(" "),s("li",[s("code",[a._v("f")]),a._v(" 垂直移动绘图，默认值为 0")])]),a._v(" "),s("p",[a._v("所以矩阵默认为单位矩阵：")]),a._v(" "),s("div",{staticClass:"language-mathematica extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("1  0  0\n0  1  0\n0  0  1\n")])])]),s("h3",{attrs:{id:"_13-6-save-、-restore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-6-save-、-restore","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.6 save()、 restore()")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("save()")]),a._v(" 保存当前环境的状态\n"),s("ul",[s("li",[a._v("原点位置")]),a._v(" "),s("li",[a._v("缩放大小")]),a._v(" "),s("li",[a._v("旋转")]),a._v(" "),s("li",[a._v("矩阵变换")]),a._v(" "),s("li",[a._v("裁剪块")])])]),a._v(" "),s("li",[s("code",[a._v("restore()")]),a._v("\t返回之前保存过的路径状态和属性")])]),a._v(" "),s("h2",{attrs:{id:"十四-imagedata-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十四-imagedata-对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 十四 "),s("code",[a._v("ImageData")]),a._v(" 对象")]),a._v(" "),s("p",[a._v("对于 "),s("code",[a._v("ImageData")]),a._v(" 对象中的每个像素，都存在着四方面的信息，即 RGBA 值：")]),a._v(" "),s("ul",[s("li",[a._v("R - 红色 (0-255)")]),a._v(" "),s("li",[a._v("G - 绿色 (0-255)")]),a._v(" "),s("li",[a._v("B - 蓝色 (0-255)")]),a._v(" "),s("li",[a._v("A - alpha 通道 (0-255; 0 是透明的，255 是完全可见的)")])]),a._v(" "),s("p",[a._v("因此 ，"),s("code",[a._v("transparent black")]),a._v(" 表示 "),s("code",[a._v("(0,0,0,0)")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("color/alpha")]),a._v(" 以数组形式存在，并且既然数组包含了每个像素的四条信息，数组的大小是 "),s("code",[a._v("ImageData")]),a._v(" 对象的四倍。获得数组大小的办法，就是使用 "),s("code",[a._v("ImageDataObject.data.length")])]),a._v(" "),s("p",[a._v("包含 "),s("code",[a._v("color/alpha")]),a._v(" 信息的数组存储于 "),s("code",[a._v("ImageData")]),a._v(" 对象的 "),s("code",[a._v("data")]),a._v(" 属性中。")]),a._v(" "),s("h3",{attrs:{id:"_14-1-createimagedata-创建-imagedata-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-createimagedata-创建-imagedata-对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.1 "),s("code",[a._v("createImageData()")]),a._v(" 创建 ImageData 对象")]),a._v(" "),s("p",[a._v("创建新的空白 "),s("code",[a._v("ImageData")]),a._v(" 对象。")]),a._v(" "),s("p",[a._v("有两个版本的 "),s("code",[a._v("createImageData()")]),a._v(" 方法：")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//以指定的尺寸（以像素计）创建新的 ImageData 对象")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" imgData"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//创建与指定的另一个 ImageData 对象尺寸相同的新 ImageData 对象（不会复制图像数据）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" imgData"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("imageData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("新对象的默认像素值 "),s("code",[a._v("transparent black")]),a._v("。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("width")]),a._v(" ImageData 对象的宽度，以像素计。")]),a._v(" "),s("li",[s("code",[a._v("height")]),a._v(" ImageData 对象的高度，以像素计。")]),a._v(" "),s("li",[s("code",[a._v("imageData")]),a._v(" 另一个 ImageData 对象。")])]),a._v(" "),s("h3",{attrs:{id:"_14-2-getimagedata-复制画布像素数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-getimagedata-复制画布像素数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.2 "),s("code",[a._v("getImageData()")]),a._v(" 复制画布像素数据")]),a._v(" "),s("p",[a._v("返回 "),s("code",[a._v("ImageData")]),a._v(" 对象，该对象拷贝了画布指定矩形的像素数据，进行操作后，通过 "),s("code",[a._v("putImageData()")]),a._v(" 将图像数据放回画布")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" imgData "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" 开始复制的左上角位置的坐标")]),a._v(" "),s("li",[s("code",[a._v("width")]),a._v("，"),s("code",[a._v("height")]),a._v(" 将要复制的矩形区域的宽高")])]),a._v(" "),s("h3",{attrs:{id:"_14-3-putimagedata-放入像素数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-3-putimagedata-放入像素数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.3 "),s("code",[a._v("putImageData()")]),a._v(" 放入像素数据")]),a._v(" "),s("p",[a._v("将图像数据（从指定的 ImageData 对象）放回画布上。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("putImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dirtyX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dirtyY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dirtyWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("dirtyHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("imgData")]),a._v(" 规定要放回画布的 ImageData 对象")]),a._v(" "),s("li",[s("code",[a._v("x")]),a._v("，"),s("code",[a._v("y")]),a._v(" ImageData 对象放置在画布上的位置左上角的坐标，以像素计")]),a._v(" "),s("li",[s("code",[a._v("dirtyX")]),a._v("，"),s("code",[a._v("dirtyY")]),a._v(" 可选。以像素计，在画布上绘制的图像在 ImageData 对象上的位置坐标")]),a._v(" "),s("li",[s("code",[a._v("dirtyWidth")]),a._v("，"),s("code",[a._v("dirtyHeight")]),a._v(" 可选。在画布上绘制图像的宽高")])]),a._v(" "),s("p",[a._v("后面四个属性相当于裁剪，但是，在画布上，依然是整个 ImageData  对象。\n如：")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" imgData"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("putImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("70")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("40")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("在画布上放置裁剪部分的位置就变成了（10+20,70+40)，宽高是 30, 10。")]),a._v(" "),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：如果裁剪位置加上裁剪宽度，超出了原来的宽高，超出部分不会绘制")])]),a._v(" "),s("h3",{attrs:{id:"_14-4-width、height宽高"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-4-width、height宽高","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.4 "),s("code",[a._v("width")]),a._v("、"),s("code",[a._v("height")]),a._v("宽高")]),a._v(" "),s("p",[a._v("返回 ImageData 对象的宽高，以像素计。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nimgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"_14-5-data-图像数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-5-data-图像数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.5 "),s("code",[a._v("data")]),a._v(" 图像数据")]),a._v(" "),s("p",[a._v("返回一个对象，该对象包含指定的 ImageData 对象的图像数据。")]),a._v(" "),s("p",[a._v("对于 ImageData 对象中的每个像素，都存在着四方面的信息，即 RGBA 值：\nR - 红色 (0-255)\nG - 绿色 (0-255)\nB - 蓝色 (0-255)\nA - alpha 通道 (0-255; 0 是透明的，255 是完全可见的)\ncolor/alpha 以数组形式存在，并存储于 ImageData 对象的 data 属性中。")]),a._v(" "),s("p",[a._v("将 ImageData 对象中的第一个像素变为红色的语法：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("imgData=ctx.createImageData(100,100);\n\nimgData.data[0]=255;\nimgData.data[1]=0;\nimgData.data[2]=0;\nimgData.data[3]=255;\n")])])]),s("p",[a._v("将 ImageData 对象中的第二个像素变为绿色的语法：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("imgData=ctx.createImageData(100,100);\n\nimgData.data[4]=0;\nimgData.data[5]=255;\nimgData.data[6]=0;\nimgData.data[7]=255;\n")])])]),s("h2",{attrs:{id:"十五、合成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十五、合成","aria-hidden":"true"}},[a._v("#")]),a._v(" 十五、合成")]),a._v(" "),s("h3",{attrs:{id:"_15-1-globalalpha透明度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-globalalpha透明度","aria-hidden":"true"}},[a._v("#")]),a._v(" 15.1 "),s("code",[a._v("globalAlpha")]),a._v("\t透明度")]),a._v(" "),s("p",[a._v("设置或返回绘图的当前 alpha 或透明值")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("globalAlpha"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("number")]),a._v(" 透明值。必须介于 0.0（完全透明） 与 1.0（不透明） 之间。")])]),a._v(" "),s("h3",{attrs:{id:"_15-2-globalcompositeoperation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-2-globalcompositeoperation","aria-hidden":"true"}},[a._v("#")]),a._v(" 15.2 globalCompositeOperation")]),a._v(" "),s("p",[a._v("设置或返回新图像如何绘制到已有的图像上")]),a._v(" "),s("p",[a._v("源图像 = 您打算放置到画布上的绘图。\n目标图像 = 您已经放置在画布上的绘图。")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("globalCompositeOperation"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"source-in"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ul",[s("li",[s("code",[a._v("source-over")]),a._v(" 默认。在目标图像上显示源图像。")]),a._v(" "),s("li",[s("code",[a._v("source-atop")]),a._v(" 在目标图像顶部显示源图像。源图像位于目标图像之外的部分是不可见的。")]),a._v(" "),s("li",[s("code",[a._v("source-in")]),a._v(" 在目标图像中显示源图像。只有目标图像内的源图像部分会显示，目标图像是透明的。")]),a._v(" "),s("li",[s("code",[a._v("source-out")]),a._v(" 在目标图像之外显示源图像。只会显示目标图像之外源图像部分，目标图像是透明的。")]),a._v(" "),s("li",[s("code",[a._v("destination-over")]),a._v(" 在源图像上方显示目标图像。")]),a._v(" "),s("li",[s("code",[a._v("destination-atop")]),a._v(" 在源图像顶部显示目标图像。源图像之外的目标图像部分不会被显示。")]),a._v(" "),s("li",[s("code",[a._v("destination-in")]),a._v(" 在源图像中显示目标图像。只有源图像内的目标图像部分会被显示，源图像是透明的。")]),a._v(" "),s("li",[s("code",[a._v("destination-out")]),a._v(" 在源图像外显示目标图像。只有源图像外的目标图像部分会被显示，源图像是透明的。")]),a._v(" "),s("li",[s("code",[a._v("lighter")]),a._v(" 显示源图像 + 目标图像。")]),a._v(" "),s("li",[s("code",[a._v("copy")]),a._v(" 显示源图像。忽略目标图像。")]),a._v(" "),s("li",[s("code",[a._v("xor")]),a._v(" 使用异或操作对源图像与目标图像进行组合。")])]),a._v(" "),s("h2",{attrs:{id:"十六、兼容ie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十六、兼容ie","aria-hidden":"true"}},[a._v("#")]),a._v(" 十六、兼容IE")]),a._v(" "),s("p",[a._v("虽然 IE 浏览器不支持 "),s("code",[a._v("canvas API")]),a._v("，但是他有一个叫 "),s("code",[a._v("VML")]),a._v(" 的技术，可以完成 "),s("code",[a._v("canvas")]),a._v(" 元素能做的大部分工作。")]),a._v(" "),s("h3",{attrs:{id:"_16-1-explorercanvas——excanvas-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-explorercanvas——excanvas-js","aria-hidden":"true"}},[a._v("#")]),a._v(" 16.1 ExplorerCanvas——excanvas.js")]),a._v(" "),s("p",[a._v("excanvas.js 是一个开源的，采用 Apache license 许可的 javascript 类库，在 IE 中实现了 canvas 的 API。")]),a._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('\x3c!--[if lt IE9]>\n  <script src="excanvas.js"><\/script>\n<![endif]--\x3e')]),a._v("\n")])])]),s("h3",{attrs:{id:"_16-2-限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-2-限制","aria-hidden":"true"}},[a._v("#")]),a._v(" 16.2 限制")]),a._v(" "),s("ul",[s("li",[a._v("颜色渐变只支持线性渐变")]),a._v(" "),s("li",[a._v("模式必须在两个方向上重复")]),a._v(" "),s("li",[a._v("不支持裁剪")]),a._v(" "),s("li",[a._v("非等比缩放")]),a._v(" "),s("li",[a._v("很慢")])]),a._v(" "),s("Quote",[a._v("生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。")])],1)},[],!1,null,null,null);t.default=n.exports}}]);