<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>聊一聊模块化（一）简介篇 | destiny&#39;Note</title>
    <meta name="description" content="生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.addef09d.css" as="style"><link rel="preload" href="/assets/js/app.0f9f7e67.js" as="script"><link rel="preload" href="/assets/js/4.b18b3d4f.js" as="script"><link rel="preload" href="/assets/js/2.ab4e59f5.js" as="script"><link rel="preload" href="/assets/js/1.6965be2c.js" as="script"><link rel="preload" href="/assets/js/63.5c244dba.js" as="script"><link rel="preload" href="/assets/js/6.f07dc061.js" as="script"><link rel="preload" href="/assets/js/12.237ff193.js" as="script"><link rel="prefetch" href="/assets/js/10.187926d2.js"><link rel="prefetch" href="/assets/js/11.1eb27b75.js"><link rel="prefetch" href="/assets/js/13.18ed5860.js"><link rel="prefetch" href="/assets/js/14.99e2e4eb.js"><link rel="prefetch" href="/assets/js/15.bc06526f.js"><link rel="prefetch" href="/assets/js/16.8e4d78b7.js"><link rel="prefetch" href="/assets/js/17.012dd392.js"><link rel="prefetch" href="/assets/js/18.3b692a4b.js"><link rel="prefetch" href="/assets/js/19.b7cc7edf.js"><link rel="prefetch" href="/assets/js/20.2bcff421.js"><link rel="prefetch" href="/assets/js/21.561bedb6.js"><link rel="prefetch" href="/assets/js/22.d3bd9b2c.js"><link rel="prefetch" href="/assets/js/23.3dad05e8.js"><link rel="prefetch" href="/assets/js/24.90111790.js"><link rel="prefetch" href="/assets/js/25.e9002f4c.js"><link rel="prefetch" href="/assets/js/26.8bf2f8ef.js"><link rel="prefetch" href="/assets/js/27.8b1f0657.js"><link rel="prefetch" href="/assets/js/28.2e4fb5f4.js"><link rel="prefetch" href="/assets/js/29.8c80651f.js"><link rel="prefetch" href="/assets/js/30.dfd74c47.js"><link rel="prefetch" href="/assets/js/31.d162de4e.js"><link rel="prefetch" href="/assets/js/32.8fa3e509.js"><link rel="prefetch" href="/assets/js/33.0102190a.js"><link rel="prefetch" href="/assets/js/34.d9b72b77.js"><link rel="prefetch" href="/assets/js/35.f3ef1e14.js"><link rel="prefetch" href="/assets/js/36.08ee273c.js"><link rel="prefetch" href="/assets/js/37.43f60d75.js"><link rel="prefetch" href="/assets/js/38.b5b65491.js"><link rel="prefetch" href="/assets/js/39.140ad520.js"><link rel="prefetch" href="/assets/js/40.20e9a437.js"><link rel="prefetch" href="/assets/js/41.d6071314.js"><link rel="prefetch" href="/assets/js/42.a26abb63.js"><link rel="prefetch" href="/assets/js/43.eb36ee3d.js"><link rel="prefetch" href="/assets/js/44.b48516ef.js"><link rel="prefetch" href="/assets/js/45.2a99686d.js"><link rel="prefetch" href="/assets/js/46.daa850ee.js"><link rel="prefetch" href="/assets/js/47.bf990a4f.js"><link rel="prefetch" href="/assets/js/48.1c0e9622.js"><link rel="prefetch" href="/assets/js/49.b10e9c88.js"><link rel="prefetch" href="/assets/js/5.27491d6c.js"><link rel="prefetch" href="/assets/js/50.0eccc3ba.js"><link rel="prefetch" href="/assets/js/51.6b9e5b3a.js"><link rel="prefetch" href="/assets/js/52.861e9435.js"><link rel="prefetch" href="/assets/js/53.22d6884a.js"><link rel="prefetch" href="/assets/js/54.4e991d69.js"><link rel="prefetch" href="/assets/js/55.ac350fe9.js"><link rel="prefetch" href="/assets/js/56.826e0e48.js"><link rel="prefetch" href="/assets/js/57.1f64810c.js"><link rel="prefetch" href="/assets/js/58.e8c3549c.js"><link rel="prefetch" href="/assets/js/59.71ab3e75.js"><link rel="prefetch" href="/assets/js/60.5d8abbc2.js"><link rel="prefetch" href="/assets/js/61.64758485.js"><link rel="prefetch" href="/assets/js/62.8399572d.js"><link rel="prefetch" href="/assets/js/64.bb6c6c2c.js"><link rel="prefetch" href="/assets/js/65.44300fbf.js"><link rel="prefetch" href="/assets/js/66.893f4290.js"><link rel="prefetch" href="/assets/js/67.abb98920.js"><link rel="prefetch" href="/assets/js/68.096fd403.js"><link rel="prefetch" href="/assets/js/69.d386d194.js"><link rel="prefetch" href="/assets/js/7.67f8ace6.js"><link rel="prefetch" href="/assets/js/70.afcfe2be.js"><link rel="prefetch" href="/assets/js/71.0a25ec97.js"><link rel="prefetch" href="/assets/js/8.33eb3928.js"><link rel="prefetch" href="/assets/js/9.cccf5cfc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.addef09d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="destiny'Note" class="logo"> <span class="site-name can-hide">destiny'Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/visualization/" class="nav-link">数据可视化</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端手册</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/js.html" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/vue.html" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/react.html" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/ts.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/frontend/node.html" class="nav-link">Node</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.yuque.com/destinytaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/destinytaoer/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/visualization/" class="nav-link">数据可视化</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端手册</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/js.html" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/vue.html" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/react.html" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/ts.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/frontend/node.html" class="nav-link">Node</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.yuque.com/destinytaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/destinytaoer/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>聊一聊模块化（一）简介篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#封装和复用" class="sidebar-link">封装和复用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#减少污染和冲突" class="sidebar-link">减少污染和冲突</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#iife" class="sidebar-link">IIFE</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#模块管理规范" class="sidebar-link">模块管理规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#commonjs" class="sidebar-link">CommonJS</a></li><li class="sidebar-sub-header"><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#amd" class="sidebar-link">AMD</a></li><li class="sidebar-sub-header"><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#cmd" class="sidebar-link">CMD</a></li><li class="sidebar-sub-header"><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#es6-module" class="sidebar-link">ES6 Module</a></li></ul></li><li><a href="/2019/05/%E8%81%8A%E4%B8%80%E8%81%8A%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E7%AE%80%E4%BB%8B%E7%AF%87/#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="custom-layout"><main class="post"> <div class="content default"><h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>前端从刀耕火种时代脱离出来，离不开其生态环境的完善，各种插件和库的层出不穷，让我们减少了自己造轮子的繁杂过程，从而大大提高了开发者的工作效率。造轮子也就是模块化的过程。</p> <p>但是随着模块化的发展，一个项目也就会由很多的模块组成，而这些模块有一部分是自己的，也有一部分是别人开发的，模块的管理就成为了很大的一个问题。正是因为有这样的需求，才引起了模块化管理规范的发展。</p> <p>模块化经历了下面几个阶段，也表明了模块化的作用和发展方向：</p> <ul><li>代码的封装和复用</li> <li>减少全局的污染、冲突</li> <li>部分属性和方法的私有化</li> <li>模块的管理规范化</li></ul> <p>现在在大型项目中，对模块的管理基本上是 Webpack + CommonJS + ES6 Module，但是了解其背后的发展和原理还是很有意义的。</p> <h2 id="封装和复用"><a href="#封装和复用" aria-hidden="true" class="header-anchor">#</a> 封装和复用</h2> <p>当代码越写越多时，我们常常会把重复出现的内容或者复杂的功能封装成一个个的函数，方便我们直接调用，减少维护成本和工作量。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="减少污染和冲突"><a href="#减少污染和冲突" aria-hidden="true" class="header-anchor">#</a> 减少污染和冲突</h2> <p>当我们封装的函数越来越多，全局的变量就会越来越多，不可避免会导致一些冲突，尤其是不同开发者写的模块。</p> <p>为了避免全局变量的污染和减少模块的冲突，我们会将单个模块封装到一个对象内部：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  _number<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  f1<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  f2<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="iife"><a href="#iife" aria-hidden="true" class="header-anchor">#</a> IIFE</h2> <p>但是这样仍然存在问题，就是模块内部的属性可以通过外部直接修改，这是非常危险的。</p> <p>于是，聪明的开发者们想到了使用 IIFE，即<strong>立即执行函数表达式</strong>。也称为<strong>模块模式</strong>。函数拥有自己的作用域，这不仅能减少全局的污染，还可以对内部属性起到一定保护作用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> _money <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">m1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">m2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    f1<span class="token punctuation">:</span> m1<span class="token punctuation">,</span>
    f2<span class="token punctuation">:</span> m2
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如 JQuery：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>global<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> window <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> noGlobal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里把 JQ 抛出给全局</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>JQ 的这种模块创建模式也成为了一种经典。</p> <p>其好处在于外部不能直接修改内部的属性，从而起到一定防御作用，可以模拟私有属性。只需要将外部所需的方法和属性通过一定的方式抛出去即可。</p> <p>IIFE 可以说是主要的模块化手段，其中 CMD、AMD、commonJS 都是基于 IIFE 实现的。ES6 Module 在各大浏览器中还没有得到支持，仍然会转成 IIFE 来运行。</p> <h2 id="模块管理规范"><a href="#模块管理规范" aria-hidden="true" class="header-anchor">#</a> 模块管理规范</h2> <p>有了了模块，我们就可以更方便地使用别人的代码，想要什么功能，就加载什么模块。但是，这样做有一个前提，那就是大家必须以同样的方式编写模块，否则在使用的时候就会出现问题。因此就有了模块规范的出现。</p> <h3 id="commonjs"><a href="#commonjs" aria-hidden="true" class="header-anchor">#</a> CommonJS</h3> <p>2009 年， 一名来自 Mozilla 团队的的工程师 Kevin Dangoor 开始捣鼓了一个叫 ServerJS 的项目，他是这样描述的：</p> <blockquote><p>&quot;在这里我描述的不是一个技术问题。这是一个关于大家齐心合力，做出决定向前迈进，并且开始一起建造一些更大更酷的东西的问题。&quot;</p></blockquote> <p>这个项目在 2009 年的 8 月份更名为今日我们熟悉的 CommonJS 以显示 API 更广泛的适用性。</p> <blockquote><p>CommonJS 是一个<strong>旨在 Web 浏览器之外，为 JavaScript 建立模块生态系统的约定的项目</strong>。其创建的主要原因是缺乏普遍接受的 JavaScript 脚本模块单元形式，而这一形式可以让 JavaScript 在不同于传统网络浏览器提供的环境中重复使用。</p></blockquote> <p>同在 2009 年，美国程序员 Ryan Dahl 创造了 Node.js 项目，将 JavaScript 语言用于服务器端编程。</p> <p>在浏览器环境下，没有模块也不是特别大的问题，毕竟网页程序的复杂性有限；但是在服务器端，一定要有模块，与操作系统和其他应用程序互动，否则根本没法编程。</p> <p><strong>Node.js 的模块系统，就是参照 CommonJS 规范实现的</strong>。也是我们最为关注的 CommonJS 规范的实现。</p> <p>（1）Node.js 中的 CommonJS 规范：</p> <ul><li>一个文件就是一个模块，拥有独立的作用域</li> <li>通过 require 加载模块</li> <li>通过 exports 和 module.exports 来暴露模块中的内容</li></ul> <p>（2）Node.js 中模块的使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1. 通过 module.exports 来导出模块</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;zhang&quot;</span><span class="token punctuation">,</span>
  getName<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  changeName<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> n<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./module/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=&gt;  {name: &quot;zhang&quot;, getName: ƒ, changeName: ƒ}</span>

<span class="token comment">// 2. 通过 exports 来导出模块</span>
<span class="token keyword">const</span> <span class="token function-variable function">getParam</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>getParam <span class="token operator">=</span> getParam<span class="token punctuation">;</span>

<span class="token keyword">const</span> module1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./module/index1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用</span>
consoel<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=&gt; {a: 123, b: 456, getParam: ƒ}</span>
</code></pre></div><p>对比 exports 和 module.exports 的区别：</p> <ul><li>当 exports 和 module.exports 同时存在的时候，module.exports 会盖过 exports</li> <li>当模块内部全部是 exports 的时候， 就等同于 module.exports</li> <li>exports  其实就是 module.exports 的子集</li></ul> <p><strong>CommonJS 规范不适用于浏览器环境</strong>。它采用的是<strong>同步加载方式</strong>。这对服务器端不是一个问题，因为所有的模块都存放在本地硬盘，可以同步加载完成，等待时间就是硬盘的读取时间。但是，对于浏览器，这却是一个大问题，因为模块都放在服务器端，等待时间取决于网速的快慢，可能要等很长时间，浏览器处于&quot;假死&quot;状态。</p> <p>因此，浏览器端的模块，不能采用&quot;同步加载&quot;（synchronous），只能采用&quot;异步加载&quot;（asynchronous）。这就是AMD规范诞生的背景。</p> <h3 id="amd"><a href="#amd" aria-hidden="true" class="header-anchor">#</a> AMD</h3> <p>AMD 是 Asynchronous Module Definition 的缩写，意思就是 <strong>异步模块定义</strong> 。它采用异步方式加载模块，模块的加载不影响它后面语句的运行。它是一个在<strong>浏览器端模块化开发</strong>的规范，由于不是原生支持，使用AMD规范进行页面开发需要用到对应的函数库 —— 也就是大名鼎鼎的 <strong>RequireJS，实际上 AMD 是 RequireJS 在推广过程中对模块定义的规范化的产出。</strong></p> <p>RequireJS 主要解决了异步加载模块，以及文件之间的依赖问题。它具有两个核心方法：</p> <ul><li><strong>define(id, dependencies, factory)</strong>：定义模块
<ul><li>id：可选参数，模块标识，即名称。如果没有，则使用文件名作为标识</li> <li>dependencies：可选参数，当前模块的所有依赖模块，是一个包含所有依赖模块名称的数组</li> <li>factory：必选参数，模块初始化要执行的函数或对象。如果为函数，它应该只被执行一次，其返回值作为模块的输出值；如果是对象，此对象应该为模块的输出值。
<ul><li>作为函数时，其参数为<strong>前置依赖模块的输出值</strong></li></ul></li></ul></li> <li><strong>require(dependencies, callback)</strong>：引入模块
<ul><li>dependencies：可选参数，需要加载的依赖模块名称数组</li> <li>callback：必选参数，在模块加载完成之后执行的回调函数
<ul><li>其接收的参数是<strong>前置依赖模块的输出值</strong></li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 定义模块</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'myModule'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Byron'</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
     printName<span class="token punctuation">:</span>printName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 加载模块</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'myModule'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>myModule<span class="token punctuation">)</span><span class="token punctuation">{</span>
   myModule<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// myModule 是定义模块时的函数返回值</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在使用 RequireJS 声明一个模块时，必须指定所有的依赖项 ，这些依赖项会被当做形参传到 factory 中，对于依赖的模块会提前执行，这被称为：<strong>依赖前置</strong>。</p> <p>这会导致一个问题，<strong>当模块中的内容是条件执行，并不需要加载所有的依赖模块时，RequireJS 仍然会加载所有的依赖模块</strong>。正是因为 RequireJS 存在这样的问题，也就导致了 CMD 的出现。</p> <h3 id="cmd"><a href="#cmd" aria-hidden="true" class="header-anchor">#</a> CMD</h3> <p>CMD 是 Common Module Definition 的缩写，意思是通用的模块定义。它实际上只是对 AMD 规范进行了一定的优化，其经典实现之一** SeaJS** 的用法与 RequireJS 十分相似。</p> <p>其主要区别在于解决 RequireJS 的依赖前置问题，CMD 推崇的是<strong>依赖就近</strong>，实际上仍然是异步加载模块。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// AMD 的一个例子，当然这是一种极端的情况</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;header&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>header<span class="token punctuation">,</span> main<span class="token punctuation">,</span> footer<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    header<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'new-title'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    main<span class="token punctuation">.</span><span class="token function">setMain</span><span class="token punctuation">(</span><span class="token string">'new-content'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// 与之对应的 CMD 的写法</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当我想要的时候才进行模块的加载</span>
    <span class="token keyword">var</span> header <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./header'</span><span class="token punctuation">)</span>
    header<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'new-title'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> main <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./main'</span><span class="token punctuation">)</span>
    main<span class="token punctuation">.</span><span class="token function">setMain</span><span class="token punctuation">(</span><span class="token string">'new-content'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 加载模块</span>
seajs<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'myModule.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>my<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>factory 有三个参数：</p> <ul><li>require：就是核心方法，用于在内部加载模块</li> <li>exports：是一个对象，用来向外提供模块接口</li> <li>module：是一个对象，上面存储了与当前模块相关联的一些属性和方法</li></ul> <p>按照 CMD 规范的依赖就近的规则定义一个模块，会导致模块的加载逻辑偏重，需要使用把模块变为字符串解析一遍才知道依赖了那些模块，这也是很多人诟病 CMD 的一点。</p> <p>CMD 的市场不大，在 ES6 Module 出现之前，社区中最主要是 CommonJS + AMD，一个用于后端，一个用于前端。</p> <h3 id="es6-module"><a href="#es6-module" aria-hidden="true" class="header-anchor">#</a> ES6 Module</h3> <p>ES6 Module 的出现，表示 JavaScript 终于有了原生的模块体系，在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全<strong>可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案</strong>。</p> <blockquote><p>ECMAScript 6 Modules 的目标是创造一个让 CommonJS 和 AMD 用户都满意的格式</p></blockquote> <p>ES6 模块的设计思想是尽量的<strong>静态化</strong>，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// CommonJS模块</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 实际上等同于</span>
<span class="token keyword">let</span> _fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> stat <span class="token operator">=</span> _fs<span class="token punctuation">.</span>stat<span class="token punctuation">;</span>
<span class="token keyword">let</span> exists <span class="token operator">=</span> _fs<span class="token punctuation">.</span>exists<span class="token punctuation">;</span>
<span class="token keyword">let</span> readfile <span class="token operator">=</span> _fs<span class="token punctuation">.</span>readfile<span class="token punctuation">;</span>
</code></pre></div><p>CommonJS 实质上是整体加载了 fs 模块（即加载fs的所有方法），生成一个对象，然后再从这个对象上面读取 3 个方法。这种加载称为<strong>运行时加载</strong>，因为只有运行时才能得到这个对象，导致完全没办法在编译时做静态优化。</p> <p>ES6 模块不是对象，而是通过export命令显式指定输出的代码，再通过 import 命令输入。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ES6模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
</code></pre></div><p>ES6 Module 实质上是从 fs 模块加载 3 个方法，其他方法不加载。这种加载称为<strong>编译时加载</strong>或者<strong>静态加载</strong>，即 ES6 可以在编译时就完成模块加载，效率要比 CommonJS 模块的加载方式高。当然，这也导致了没法引用 ES6 模块本身，因为它不是对象。</p> <p>由于 ES6 模块是编译时加载，使得<strong>静态分析</strong>成为可能。有了它，就能进一步拓宽 JavaScript 的语法，比如引入宏和类型检验这些只能靠静态分析实现的功能。</p> <p>除了静态加载带来的各种好处，ES6 模块还有以下好处：</p> <ul><li>不再需要 UMD 模块格式，将来服务器和浏览器都会支持 ES6 模块格式。目前，通过各种工具库，其实已经做到了这一点</li> <li>将来浏览器的新 API 就能用模块格式提供，不再必须做成全局变量或者 navigator 对象的属性</li> <li>不再需要对象作为命名空间（比如Math对象），未来这些功能可以通过模块提供</li></ul> <p>ES6 Module 主要由两个命令组成：</p> <ul><li>export 导出模块内容</li> <li>import 导入模块内容</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1. export 导出</span>
<span class="token comment">// 导出模块内容, xxx.js</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>

<span class="token comment">// import 必须制定相同名称的变量进行接收</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'xxx.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=&gt; 1</span>

<span class="token comment">// 2. export default 导出</span>
<span class="token comment">// 导出，只能使用一个 export default</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">'2'</span><span class="token punctuation">;</span>

<span class="token comment">// 导入，不需要大括号包裹</span>
<span class="token keyword">import</span> b <span class="token keyword">from</span> <span class="token string">'xxx.js'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=&gt; 2</span>

<span class="token comment">// 3. 模块的整体导入</span>
<span class="token comment">// export 可以导出多个</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">'2'</span><span class="token punctuation">;</span>

<span class="token comment">// import 导入整体，将所有的导出都作为一个对象的属性，放入变量中</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> obj <span class="token keyword">from</span> <span class="token string">'xxx.js'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; {a: '1', b: '2'}</span>
</code></pre></div><p>export 和 export default 的区别：</p> <ul><li>export default 作为默认输出，只能使用一次，并且不能与 export 同时使用，而 export 可以在模块中多次使用</li> <li>export 导出时必须就有名称，且在导入的时候必须使用相同的变量名来接收，并且需要使用解构的形式；而 export default 导出时可以不需要名称，导入时也不需要考虑模块内部的变量名，并且不需要大括号包裹，只需要自己定义名称进行接收即可</li></ul> <p>import 也可以直接执行一个模块，而不去接收值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;jquery&quot;</span>
</code></pre></div><h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ul><li>阮一峰的文章：<a href="http://www.ruanyifeng.com/blog/2012/10/javascript_module.html" target="_blank" rel="noopener noreferrer">Javascript模块化编程（一）：模块的写法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://mp.weixin.qq.com/s?__biz=MzUzOTM0MTE4OQ==&amp;mid=2247484820&amp;idx=1&amp;sn=0a4dd9fb3fbe29dfad699971ee8e5214&amp;chksm=fac8bd7ecdbf346816255a841d36cf9bf10848120ef259d9ad3eb058f33eb922c0bf42db0d33&amp;mpshare=1&amp;scene=24&amp;srcid=0927MbFB7K1Tq78DCaFAbOZs#rd" target="_blank" rel="noopener noreferrer">Javascript 模块化管理的来世今生<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://mp.weixin.qq.com/s/h1PwWoUlauK2uFNn7luf8Q" target="_blank" rel="noopener noreferrer">从 IIFE 聊到 Babel 带你深入了解前端模块化发展体系<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="quote"><main class="text">生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。</main></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/destinytaoer/blog/edit/master/docs/_posts/聊一聊模块化（一）简介篇.md" target="_blank" rel="noopener noreferrer">编辑此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新时间: </span> <span class="time">2019-06-02 08:32:57</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/2019/05/grid-%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80%EF%BC%88%E8%BD%AC%EF%BC%89/">
          Grid 网格布局（转）
        </a>
        →
      </span></p></div> <!----> </main></div> <footer class="footer post-footer"><p>© 2016-2019 <i class="icon icon-love"></i> destiny</p> <span><i class="icon icon-myself"><span id="busuanzi_container_site_uv" style="display:none">
        访问用户：<span id="busuanzi_value_site_uv"></span></span>人</i> <i class="icon icon-eye"><span id="busuanzi_container_site_pv" style="display:none">
        访问次数：<span id="busuanzi_value_site_pv"></span></span>次
    </i></span></footer> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0f9f7e67.js" defer></script><script src="/assets/js/4.b18b3d4f.js" defer></script><script src="/assets/js/2.ab4e59f5.js" defer></script><script src="/assets/js/1.6965be2c.js" defer></script><script src="/assets/js/63.5c244dba.js" defer></script><script src="/assets/js/6.f07dc061.js" defer></script><script src="/assets/js/12.237ff193.js" defer></script>
  </body>
</html>
