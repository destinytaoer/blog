<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS类型转换总结 | destiny&#39;Note</title>
    <meta name="description" content="生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.88bd9336.css" as="style"><link rel="preload" href="/assets/js/app.3c60080c.js" as="script"><link rel="preload" href="/assets/js/4.c958d355.js" as="script"><link rel="preload" href="/assets/js/2.2b67a1a8.js" as="script"><link rel="preload" href="/assets/js/1.4683c509.js" as="script"><link rel="preload" href="/assets/js/31.77e72d6d.js" as="script"><link rel="preload" href="/assets/js/6.c71f681a.js" as="script"><link rel="preload" href="/assets/js/12.c6984d07.js" as="script"><link rel="prefetch" href="/assets/js/10.d86e2b8d.js"><link rel="prefetch" href="/assets/js/11.a752c041.js"><link rel="prefetch" href="/assets/js/13.d8832ed5.js"><link rel="prefetch" href="/assets/js/14.42785a91.js"><link rel="prefetch" href="/assets/js/15.86ad8721.js"><link rel="prefetch" href="/assets/js/16.d4da88fe.js"><link rel="prefetch" href="/assets/js/17.1789fd47.js"><link rel="prefetch" href="/assets/js/18.51bc1a55.js"><link rel="prefetch" href="/assets/js/19.441a2007.js"><link rel="prefetch" href="/assets/js/20.01a3f265.js"><link rel="prefetch" href="/assets/js/21.48aff5f2.js"><link rel="prefetch" href="/assets/js/22.e27af33d.js"><link rel="prefetch" href="/assets/js/23.01d35d2c.js"><link rel="prefetch" href="/assets/js/24.c473df31.js"><link rel="prefetch" href="/assets/js/25.75de80ce.js"><link rel="prefetch" href="/assets/js/26.15eb3241.js"><link rel="prefetch" href="/assets/js/27.88101569.js"><link rel="prefetch" href="/assets/js/28.0ab90091.js"><link rel="prefetch" href="/assets/js/29.95cc5dfc.js"><link rel="prefetch" href="/assets/js/30.87e47fd9.js"><link rel="prefetch" href="/assets/js/32.2e853db2.js"><link rel="prefetch" href="/assets/js/33.f2cecbcc.js"><link rel="prefetch" href="/assets/js/34.61179cff.js"><link rel="prefetch" href="/assets/js/35.14196e62.js"><link rel="prefetch" href="/assets/js/36.22b63fd4.js"><link rel="prefetch" href="/assets/js/37.97218b9f.js"><link rel="prefetch" href="/assets/js/38.7039f1e7.js"><link rel="prefetch" href="/assets/js/39.d0392c21.js"><link rel="prefetch" href="/assets/js/40.5b0f4e6a.js"><link rel="prefetch" href="/assets/js/41.ca3b8b1b.js"><link rel="prefetch" href="/assets/js/42.e1252cc3.js"><link rel="prefetch" href="/assets/js/43.3976d34f.js"><link rel="prefetch" href="/assets/js/44.1a878856.js"><link rel="prefetch" href="/assets/js/45.f5de3a94.js"><link rel="prefetch" href="/assets/js/46.bafc447f.js"><link rel="prefetch" href="/assets/js/47.4c6f08e3.js"><link rel="prefetch" href="/assets/js/48.69d2c3ec.js"><link rel="prefetch" href="/assets/js/49.4eb01fed.js"><link rel="prefetch" href="/assets/js/5.7c8730d9.js"><link rel="prefetch" href="/assets/js/50.689e44f5.js"><link rel="prefetch" href="/assets/js/51.aa2a0233.js"><link rel="prefetch" href="/assets/js/52.f174f37c.js"><link rel="prefetch" href="/assets/js/53.33e4de5f.js"><link rel="prefetch" href="/assets/js/54.c29fae21.js"><link rel="prefetch" href="/assets/js/55.978ebe0b.js"><link rel="prefetch" href="/assets/js/56.8f2381b0.js"><link rel="prefetch" href="/assets/js/57.58da1079.js"><link rel="prefetch" href="/assets/js/58.e40853e3.js"><link rel="prefetch" href="/assets/js/59.971b9d36.js"><link rel="prefetch" href="/assets/js/60.83e4b736.js"><link rel="prefetch" href="/assets/js/61.1956513d.js"><link rel="prefetch" href="/assets/js/62.13f88d5f.js"><link rel="prefetch" href="/assets/js/63.f240216e.js"><link rel="prefetch" href="/assets/js/64.fa60541c.js"><link rel="prefetch" href="/assets/js/65.4525fa74.js"><link rel="prefetch" href="/assets/js/66.6155275e.js"><link rel="prefetch" href="/assets/js/67.bc758099.js"><link rel="prefetch" href="/assets/js/68.46f93e76.js"><link rel="prefetch" href="/assets/js/7.0c011446.js"><link rel="prefetch" href="/assets/js/8.da300eff.js"><link rel="prefetch" href="/assets/js/9.15ca111c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.88bd9336.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="destiny'Note" class="logo"> <span class="site-name can-hide">destiny'Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/visualization/" class="nav-link">数据可视化</a></div><div class="nav-item"><a href="https://www.yuque.com/destinytaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/destinytaoer/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/visualization/" class="nav-link">数据可视化</a></div><div class="nav-item"><a href="https://www.yuque.com/destinytaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/destinytaoer/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS类型转换总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#_1-boolean-转换" class="sidebar-link">1. Boolean 转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换情况" class="sidebar-link">转换情况</a></li><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换规则" class="sidebar-link">转换规则</a></li></ul></li><li><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#_2-number-转换" class="sidebar-link">2. Number 转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换情况-2" class="sidebar-link">转换情况</a></li><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换规则-2" class="sidebar-link">转换规则</a></li></ul></li><li><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#_3-string-转换" class="sidebar-link">3. String 转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换情况-3" class="sidebar-link">转换情况</a></li><li class="sidebar-sub-header"><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#转换规则-3" class="sidebar-link">转换规则</a></li></ul></li><li><a href="/2017/11/js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%80%BB%E7%BB%93/#_4-特殊转换" class="sidebar-link">4. 特殊转换</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="custom-layout"><main class="post"> <div class="content default"><h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>JS 令人头疼的一点就是它属于弱类型语言，一个变量存储的值可以是字符串、数值、布尔值或者对象等，可以随时变更。获取一个变量，你不会知道其存储的值是什么类型的，所以很多时候都需要进行类型检测。</p> <p>除了手动变更类型之外，有些情况下，JS 内部也会自动进行类型转换，以满足部分操作符以及语句等的执行。</p> <p>下面就是我对 JS 类型转换的一些总结，其中大部分来自《JavaScript 高级程序设计》这本书。</p> <h2 id="_1-boolean-转换"><a href="#_1-boolean-转换" aria-hidden="true" class="header-anchor">#</a> 1. Boolean 转换</h2> <h3 id="转换情况"><a href="#转换情况" aria-hidden="true" class="header-anchor">#</a> 转换情况</h3> <ul><li>调用 <code>Boolean()</code></li> <li>在 <code>if</code> 或 <code>while</code> 流程控制中，内部执行相应的 <code>Boolean()</code> 转换</li> <li>逻辑运算符，主要是 <code>!</code> 和 <code>!!</code>，内部执行 <code>Boolean()</code> 转换</li></ul> <h3 id="转换规则"><a href="#转换规则" aria-hidden="true" class="header-anchor">#</a> 转换规则</h3> <table><thead><tr><th style="text-align:center;">数据类型</th> <th style="text-align:center;">转换为 <code>true</code> 的值</th> <th style="text-align:center;">转换为 <code>false</code> 的值</th></tr></thead> <tbody><tr><td style="text-align:center;">String</td> <td style="text-align:center;">任何非空字符串</td> <td style="text-align:center;">空字符串<code>&quot;&quot;</code></td></tr> <tr><td style="text-align:center;">Number</td> <td style="text-align:center;">任何非零数字值（包括无穷大）</td> <td style="text-align:center;"><code>0</code> 和 <code>NaN</code></td></tr> <tr><td style="text-align:center;">Object</td> <td style="text-align:center;">任何对象</td> <td style="text-align:center;"><code>null</code></td></tr> <tr><td style="text-align:center;">Undefined</td> <td style="text-align:center;">不适用</td> <td style="text-align:center;"><code>undefined</code></td></tr></tbody></table> <p>也就是说，只有 <code>0 / NaN / &quot;&quot; / null / undefined</code> 才会转换为 <code>false</code>，其余都是 <code>true</code></p> <p>所以在 <code>if</code> 判断中，直接写变量有时候是不够严谨的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//=&gt; 想要在 a 不存在或没定义的时候执行</span>
  <span class="token comment">//=&gt; 实际上存储的值是 0 或者 '' 等也会执行</span>
<span class="token punctuation">}</span>

<span class="token comment">//=&gt; 应该使用 typeof</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//=&gt; a 不存在或没定义的时候执行</span>
<span class="token punctuation">}</span>
<span class="token comment">//=&gt; 或者使用全等</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">===</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//=&gt; 使用 == 也不够严谨，因为 null == undefined</span>
  <span class="token comment">//=&gt; 需要区分 null 或 undefined 的 情况较少</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在真实的项目中还是会经常用到第一种写法，因为其较为简单，而且能满足需求。因为默认情况下，判断的值只有两种情况：第一种是不存在或者未定义、第二种就是约定的值。很少会出现约定的值是转换为 false 的情况，但是使用的时候也要特别的注意。</p> <h2 id="_2-number-转换"><a href="#_2-number-转换" aria-hidden="true" class="header-anchor">#</a> 2. Number 转换</h2> <h3 id="转换情况-2"><a href="#转换情况-2" aria-hidden="true" class="header-anchor">#</a> 转换情况</h3> <ul><li>调用 <code>Number()</code>、<code>parseInt()</code>、<code>parseFloat()</code></li> <li>其他情况都是使用 <code>Number()</code> 的转换机制
<ul><li><code>isNaN()</code></li> <li>一元加或减操作符，注意：这里是一元的，如 <code>s = + s</code>，区别于加法和拼接</li> <li>递增或递减，以及加法（除了拼接）、减法、乘法、除法、求模等操作符</li> <li>关系操作符</li></ul></li></ul> <h3 id="转换规则-2"><a href="#转换规则-2" aria-hidden="true" class="header-anchor">#</a> 转换规则</h3> <p><code>Number()</code>：</p> <ul><li><p>Boolean 值</p> <ul><li><code>true</code> =&gt; <code>1</code></li> <li><code>false</code> =&gt; <code>0</code></li></ul></li> <li><p><code>null</code> =&gt; <code>0</code></p></li> <li><p><code>undefined</code> =&gt; <code>NaN</code></p></li> <li><p>String 值</p> <ul><li>只包含数字（包含正负号），将其<strong>转换为十进制数值</strong>，忽略前导零</li> <li>包含有效的浮点格式，将其转换为对应的浮点数值，忽略前导零</li> <li>包含有效的十六进制格式，将其转换为相同大小的十进制数值</li> <li>空字符串 <code>&quot;&quot;</code>，空格 <code>' '</code>，换行符<code>'\n'</code>，制表符<code>'\t'</code> =&gt; <code>'0'</code></li> <li>包含其他格式的字符串，则将其转换为 <code>NaN</code></li></ul></li> <li><p>Object 值</p> <ul><li>调用对象的 <code>toString()</code> 方法，然后依照上面的规则转换返回的字符串</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// [普通对象]</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'[object Object]'</span> <span class="token operator">=&gt;</span> <span class="token number">NaN</span>

<span class="token comment">// [数组]</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'12, 23'</span> <span class="token operator">=&gt;</span> <span class="token number">NaN</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'12'</span> <span class="token operator">=&gt;</span> <span class="token number">12</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">''</span> <span class="token operator">=&gt;</span> <span class="token number">0</span>

<span class="token comment">// [正则]</span>
<span class="token operator">/</span><span class="token operator">^</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'/^$/'</span> <span class="token operator">=&gt;</span> <span class="token number">NaN</span>

<span class="token comment">// [函数]</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;function a(){}&quot;</span> <span class="token operator">=&gt;</span> <span class="token number">NaN</span>

</code></pre></div><p><code>parseInt()</code>：</p> <ul><li>第一个参数必须是字符串，如果不是则转换为字符串，使用 <code>toString()</code> 方法转换为字符串</li> <li>忽略前面的空格，直至找到第一个非空字符</li> <li>第一个非空字符不是数字字符或者负号，则返回 <code>NaN</code></li> <li>空字符串返回 <code>NaN</code></li> <li>第一个是数字字符，会继续解析下一个字符，直至遇到非数字字符，返回前面的数字字符</li> <li>遇到非数字字符后，后面的字符都是无效的了</li> <li>传入第二个参数：转换时使用的基数，即多少进制，就可以解析二进制、八进制、十六进制的字符串。指定了第二个参数的，字符串中甚至不用带前面的前缀，如 <code>parseInt(&quot;AF&quot;, 16);//175</code></li> <li>为了避免解析错误，任何情况下都应该明确指定基数，十进制也不例外</li></ul> <p><code>parseFloat()</code>：</p> <ul><li>第一个参数必须是字符串，如果不是则转换为字符串，使用 <code>String()</code> 方法</li> <li>字符串中第一个小数点有效，第二个无效</li> <li>空字符串返回 <code>NaN</code></li> <li>始终忽略前导零</li> <li>只要遇到非浮点字符或者第二个小数点，后面的字符串都无效</li> <li>字符串解析为整数，那么返回整数</li></ul> <h2 id="_3-string-转换"><a href="#_3-string-转换" aria-hidden="true" class="header-anchor">#</a> 3. String 转换</h2> <h3 id="转换情况-3"><a href="#转换情况-3" aria-hidden="true" class="header-anchor">#</a> 转换情况</h3> <ul><li>基于 <code>alert / confirm / prompt / document.write</code> 等方法输出内容</li> <li>调用 <code>toString()</code> 、<code>String()</code></li> <li>加号操作符，有一个是字符串时，内部调用 <code>toString()</code></li> <li>对象转换成 Number 类型时，内部调用 <code>toString()</code></li></ul> <h3 id="转换规则-3"><a href="#转换规则-3" aria-hidden="true" class="header-anchor">#</a> 转换规则</h3> <p><code>toString()</code> 方法</p> <ul><li>返回相应值的字符串表现</li> <li>数值、布尔值、对象和字符串值都有一个 <code>toString()</code> 方法</li> <li>字符串的 <code>toString()</code> 方法返回字符串的一个副本</li> <li><code>null</code> =&gt; <code>&quot;null&quot;</code></li> <li><code>undefined</code> =&gt; <code>&quot;undefined&quot;</code></li> <li><code>NaN</code> =&gt; <code>'NaN'</code></li> <li><code>true</code> =&gt; <code>'true'</code>，<code>false</code> =&gt; <code>'false'</code></li> <li>普通对象只能返回 <code>[object Object]</code>，不能返回字符串形式</li> <li>数组 <code>[]</code> =&gt; <code>''</code>，<code>[12, 23]</code> =&gt; <code>'12,23'</code></li> <li>正则、日期等对象都返回其字符串表现</li></ul> <p><code>String()</code> 转型函数，你可以认为 <code>String</code> 和 <code>toString</code> 转换机制是一样的。</p> <h2 id="_4-特殊转换"><a href="#_4-特殊转换" aria-hidden="true" class="header-anchor">#</a> 4. 特殊转换</h2> <p><strong>+ 号操作的特殊情况</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 虽然没有看到字符串，但是引用类型转换为数字时，会先转换为字符串，这样就变成了字符串拼接</span>
<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token comment">//=&gt; &quot;1210&quot;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token comment">//=&gt; '[object Object]10'</span>

<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token comment">//=&gt; 10</span>
<span class="token comment">//=&gt; 原因是 {} 会被解析为代码块，最后只是操作了 +10 </span>

<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//=&gt; '[object Object][object Object]'</span>
<span class="token comment">//=&gt; 非常特殊，不同浏览器解析有差异</span>

<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//=&gt; '[object Object][object Object]'</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//=&gt; NaN</span>
<span class="token comment">//=&gt; 一行中开头的 {} 才会被解析为代码块，所以用 () 包裹后可以避免被解析为代码块，一行后面的 {} 不会被解析为代码块，而是空对象。</span>
</code></pre></div><p><strong>== 进行比较时</strong>
对象 == 对象：地址相等才相等</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//=&gt; false</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//=&gt;false</span>
<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'xxx'</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'xxx'</span><span class="token punctuation">}</span> <span class="token comment">//=&gt; false</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj1<span class="token punctuation">;</span>
obj1 <span class="token operator">==</span> obj2 <span class="token comment">//=&gt; true</span>
</code></pre></div><p>对象 == 数字：把对象转换为数字
对象 == 布尔：都转化为数字
字符串 == 数字：把字符串转换为数字
字符串 == 布尔：都转化为数字
布尔 == 数字：把布尔转换为数字
对象 == 字符串：把对象转换为字符串之后再比较</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token comment">//=&gt; true</span>
<span class="token number">1</span><span class="token operator">==</span><span class="token boolean">false</span> <span class="token comment">//=&gt; false</span>
<span class="token number">2</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token comment">//=&gt; false，都转化为数字</span>

<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span> <span class="token comment">//=&gt; true，都转换为数字</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token comment">//=&gt; false，都转换为数字</span>
<span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span> <span class="token comment">//=&gt; true，先算 ![] 为 false，再比较</span>
<span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token comment">//=&gt; false，先算 ![] 为 false，再比较</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//=&gt; true，先算 ![] 为 false，然后都转换为数字再比较</span>
</code></pre></div><div class="quote"><main class="text">生命的意义不仅是活着，而是我们给别人的生命带来了何种不同。</main></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/destinytaoer/blog/edit/master/docs/_posts/js类型转换总结.md" target="_blank" rel="noopener noreferrer">编辑此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新时间: </span> <span class="time">2018-07-05 06:20:30</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/2017/12/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E5%8E%86%E7%A8%8B/" class="prev">
          前端简历
        </a></span> <span class="next"><a href="/2017/11/canvas%E7%94%BB%E4%BA%94%E8%A7%92%E6%98%9F/">
          Canvas 画五角星
        </a>
        →
      </span></p></div> <!----> </main></div> <footer class="footer post-footer"><p>© 2016-2019 <i class="icon icon-love"></i> destiny</p> <span><i class="icon icon-myself"><span id="busuanzi_container_site_uv" style="display:none">
        访问用户：<span id="busuanzi_value_site_uv"></span></span>人</i> <i class="icon icon-eye"><span id="busuanzi_container_site_pv" style="display:none">
        访问次数：<span id="busuanzi_value_site_pv"></span></span>次
    </i></span></footer> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.3c60080c.js" defer></script><script src="/assets/js/4.c958d355.js" defer></script><script src="/assets/js/2.2b67a1a8.js" defer></script><script src="/assets/js/1.4683c509.js" defer></script><script src="/assets/js/31.77e72d6d.js" defer></script><script src="/assets/js/6.c71f681a.js" defer></script><script src="/assets/js/12.c6984d07.js" defer></script>
  </body>
</html>
